---  # bootstrap.yml

- hosts: localhost
  vars_prompt:

    - name: username
      prompt: Choose a password for user ema
      default: ema123
      private: true

  pre_tasks:

    - name: Check out Effective User ID
      set_fact:
        eff_uid: "{{lookup('pipe', 'id -u')}}"
        locale: en_US.UTF-8

    - block:
        - debug:
            msg: "Please run this program as root."
        - meta: end_play
      when: eff_uid|int != 0

    - name: Make sure we're running Rocky Linux 9.x
      ansible.builtin.assert:
        that:
          - ansible_distribution == "Rocky"
          - ansible_distribution_major_version is version('9', '=')
        fail_msg: "Please run this playbook on Rocky Linux 9.x only."

    - debug:
        var: username

...
